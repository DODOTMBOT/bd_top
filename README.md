# HoReCa SaaS ‚Äî Frontend UI Setup

> **UI POLICY:** –ò—Å–ø–æ–ª—å–∑—É–µ–º **HeroUI v2.8.0**. –õ—é–±—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ @nextui-org, shadcn/ui, radix/headlessui –∑–∞–ø—Ä–µ—â–µ–Ω—ã ESLint –∏ pre-commit.

**UI Framework:** HeroUI v2.8.0  
**Tailwind:** enabled  
**Dark Mode:** class-based  
**Animation:** framer-motion  

## UI Guidelines

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ layout —Å–æ–∑–¥–∞—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ HeroUI:  
```ts
import { Button, Input, Card, Table, Modal, Tabs } from "@heroui/react";
```

### ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `@heroui/react` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- `@heroui/system` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `@heroui/theme` ‚Äî —Ç–µ–º–∏–∑–∞—Ü–∏—è
- `framer-motion` ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏
- `tailwindcss` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è layout, –æ—Ç—Å—Ç—É–ø–æ–≤ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏

### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `@nextui-org/react`
- `@shadcn/ui`
- `@radix-ui/react-*`
- `@headlessui/react`

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **Tailwind** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—Ç—Å—Ç—É–ø–æ–≤ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
2. **HeroUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** ‚Äî –¥–ª—è –≤—Å–µ–π –ª–æ–≥–∏–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** ‚Äî –≤—Å–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HeroUI
4. **–¢–µ–º–∏–∑–∞—Ü–∏—è** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π/—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã —á–µ—Ä–µ–∑ HeroUI

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ (auth)/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ admin/           # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ partner/         # –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ point/           # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ—á–∫–∏
‚îú‚îÄ‚îÄ employee/        # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚îî‚îÄ‚îÄ layout.tsx       # –û—Å–Ω–æ–≤–Ω–æ–π layout —Å HeroUIProvider

components/
‚îú‚îÄ‚îÄ ui/              # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ HeroUI
‚îî‚îÄ‚îÄ auth/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
git clone <repository-url>
cd bd_top-2
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç .env.local)
npm run dev
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –°–∫—Ä–∏–ø—Ç `bootstrap-env.mjs` –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `.env.local` –∏–∑ `.env.local.backup`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`DATABASE_URL`, `SHADOW_DATABASE_URL`, `NEXTAUTH_SECRET`)
- –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω `sslmode=verify-full` –±–µ–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ CA, –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ `sslmode=require`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Prisma Client

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
npm run dev          # –ó–∞–ø—É—Å–∫ –Ω–∞ –ø–æ—Ä—Ç—É 3001
npm run bootstrap    # –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
npm run db:ping      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É SQLite –∏ PostgreSQL:**

–î–ª—è **SQLite** (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):
```bash
cp .env.local.backup.sqlite .env.local.backup
npm run bootstrap
```

–î–ª—è **PostgreSQL** (–ø—Ä–æ–¥–∞–∫—à–Ω):
```bash
cp .env.local.backup.postgresql .env.local.backup
npm run bootstrap
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –¥–ª—è PostgreSQL:**

–ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `SSL_SETUP.md`:

1. –°–∫–∞—á–∞–π—Ç–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Timeweb Cloud
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   export NODE_EXTRA_CA_CERTS=$HOME/.cloud-certs/root.crt
   export SSL_CERT_FILE=$HOME/.cloud-certs/root.crt
   export PGSSLROOTCERT=$HOME/.cloud-certs/root.crt
   ```
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sslmode=verify-full` –≤ DATABASE_URL

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ TLS –¥–ª—è PostgreSQL:**

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `TLS_SETUP.md` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:

1. **–ü–æ–ª—É—á–∏—Ç–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Timeweb Cloud:**
   ```bash
   mkdir -p ~/.postgresql
   curl -o ~/.postgresql/root.crt https://timeweb.com/ssl/root.crt
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   export NODE_EXTRA_CA_CERTS=$HOME/.postgresql/root.crt
   export SSL_CERT_FILE=$HOME/.postgresql/root.crt
   export PGSSLROOTCERT=$HOME/.postgresql/root.crt
   ```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   psql "host=910e913fe01583491138102e.twc1.net port=5432 dbname=default_db user=gen_user sslmode=verify-full sslrootcert=$HOME/.postgresql/root.crt"
   ```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - SSH —Ç—É–Ω–Ω–µ–ª—å:**

–ï—Å–ª–∏ SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å (—Å–º. `SSH_TUNNEL_SETUP.md`):

```bash
# –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
./scripts/start-tunnel.sh

# –û–±–Ω–æ–≤–∏—Ç–µ prisma/.env –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è localhost:5433
DATABASE_URL="postgresql://gen_user:K2%285W_cQSHpplS@localhost:5433/default_db?sslmode=disable"
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ë–î

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
npm run db:doctor
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- ‚úÖ **TCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–∞ –∏ –ø–æ—Ä—Ç–∞
- ‚úÖ **TLS/SSL** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ handshake
- ‚úÖ **SQL –∑–∞–ø—Ä–æ—Å—ã** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç** - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p ~/.postgresql

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Timeweb Cloud
cp root.crt ~/.postgresql/root.crt

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
curl -o ~/.postgresql/root.crt https://timeweb.com/ssl/root.crt
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=verify-full"
SHADOW_DATABASE_URL="postgresql://user:password@host:5432/shadow_db?sslmode=verify-full"
DB_SSL_ROOT_CERT=~/.postgresql/root.crt
DB_TEST_QUERY=select 1;
```

### –†–µ–∂–∏–º—ã SSL

| sslmode | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|---------|----------|-------------------|
| `verify-full` | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SSL + –∏–º—è —Ö–æ—Å—Ç–∞ | –ü—Ä–æ–¥–∞–∫—à–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º CA |
| `require` | SSL –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ | –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ |
| `disable` | –ë–µ–∑ SSL | SSH —Ç—É–Ω–Ω–µ–ª—å –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î |

### SSH —Ç—É–Ω–Ω–µ–ª—å

–ï—Å–ª–∏ SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å
ssh -NT -L 5433:910e913fe01583491138102e.twc1.net:5432 user@bastion

# –û–±–Ω–æ–≤–∏—Ç–µ DATABASE_URL
DATABASE_URL="postgresql://gen_user:K2%285W_cQSHpplS@localhost:5433/default_db?sslmode=disable"
```

### –†—É—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
ping 910e913fe01583491138102e.twc1.net
nc -zv 910e913fe01583491138102e.twc1.net 5432

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ psql
psql "postgresql://gen_user:K2%285W_cQSHpplS@910e913fe01583491138102e.twc1.net:5432/default_db?sslmode=require"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Prisma
npm run db:ping
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Next.js 14** —Å App Router
- **TypeScript** –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- **Prisma** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **NextAuth.js** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **PostgreSQL** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î
- **RBAC** —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º
```bash
./scripts/init-dev.sh
```

---
# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç HoReCa SaaS

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/DODOTMBOT/bd_top.git
cd bd_top
npm install
npm run bootstrap
npm run dev
```

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤ Timeweb Cloud –∏ —Ç—Ä–µ–±—É–µ—Ç SSH-—Ç—É–Ω–Ω–µ–ª—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

–°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –Ω–∞ —Å–≤–æ—ë–º —Å–µ—Ä–≤–µ—Ä–µ (VPS):

```bash
ssh -NT -L 5433:910e913fe01583491138102e.twc1.net:5432 root@193.233.102.219
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –±–∞–∑–µ —á–µ—Ä–µ–∑ `localhost:5433`.

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ï—Å–ª–∏ –≤—Å—ë –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ .env.local –≥–æ—Ç–æ–≤
‚úÖ Database connection OK
‚úÖ Prisma Client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
```

---

## –ö–æ–º–∞–Ω–¥—ã

- `npm run bootstrap` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client  
- `npm run db:ping` ‚Äî —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î  
- `npm run dev` ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ `http://localhost:3001`

